pub mod binary_search;

pub trait Solution {
    fn min_abs_difference(nums: Vec<i32>, goal: i32) -> i32;
}

#[cfg(test)]
mod tests {
    use super::Solution;

    pub fn run<S: Solution>() {
        let test_cases = [
            ((&[5, -7, 3, 5] as &[_], 6), 0),
            ((&[7, -9, 15, -2], -5), 1),
            ((&[1, 2, 3], -7), 7),
            (
                (
                    &[
                        -7_074_297, 3_076_735, -5_846_354, 5_008_659, -126_683, 7_039_557, 6_708_811, 3_189_666,
                        -6_102_417, 6_078_975, -6_448_946, -4_995_910, 2_964_239, -3_248_847, -4_392_269, 7_473_223,
                        -1_356_059, 3_978_911, 8_009_187, -316_441, 6_524_770, 8_280_309, -2_798_383, 1_310_839,
                        6_306_594, -6_548_611, -9_712_711, 1_639_314,
                    ],
                    493_409_180,
                ),
                415_819_391,
            ),
            (
                (
                    &[
                        -2_224_858, -2_089_988, -482_571, 5_521_468, 8_354_928, 9_459_313, 3_072_588, -2_889_581,
                        5_156_433,
                    ],
                    10_530_484,
                ),
                26_240,
            ),
        ];

        for ((nums, goal), expected) in test_cases {
            assert_eq!(S::min_abs_difference(nums.to_vec(), goal), expected);
        }
    }
}
