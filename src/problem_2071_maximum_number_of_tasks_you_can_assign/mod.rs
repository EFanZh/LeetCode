pub mod binary_search_and_greedy;

pub trait Solution {
    fn max_task_assign(tasks: Vec<i32>, workers: Vec<i32>, pills: i32, strength: i32) -> i32;
}

#[cfg(test)]
mod tests {
    use super::Solution;

    pub fn run<S: Solution>() {
        let test_cases = [
            ((&[3, 2, 1] as &[_], &[0, 3, 3] as &[_], 1, 1), 3),
            ((&[5, 4], &[0, 0, 0], 1, 5), 1),
            ((&[10, 15, 30], &[0, 10, 10, 10, 10], 3, 10), 2),
            ((&[5, 9, 8, 5, 9], &[1, 6, 4, 2, 6], 1, 5), 3),
            ((&[1, 2, 3, 4, 5], &[0, 1, 2, 3, 3], 3, 2), 5),
            (
                (
                    &[
                        7908, 9988, 9571, 5279, 4047, 9760, 3274, 7098, 6367, 4774, 9975, 5544, 8811, 2564, 3835, 6634,
                        5648, 9052, 8143, 5502, 1285, 7300, 5630, 7578, 6522, 2243, 7284, 6534, 3766, 1835, 4153, 4333,
                        6338, 6373, 7517, 6930, 8190, 2834, 2218, 2945, 6929, 4170, 9254, 9312, 9789, 1324, 3851, 4038,
                        9497, 6486, 7949, 5781, 7787, 5185, 2726, 8538, 3698, 6929, 2613, 6860, 6981, 7506, 5294, 6213,
                        9848, 4539, 1234, 8108, 3832, 5068, 2712, 6301, 8340, 7950, 1320, 9111, 5411, 8075, 9752, 6882,
                        9679, 9463, 6580, 9986, 5114, 4483, 7816, 1878, 2204, 4364, 1603, 3131, 3492, 8579, 3026, 2521,
                        5679, 8630, 8667, 3827, 1555, 3296, 1118, 4644, 4866, 1312, 7632, 9550, 6914, 9195, 1009, 2145,
                        5184, 4996, 2913, 6914, 3584, 4866, 8505, 7708, 1309, 2780, 1794, 6103, 6161, 9576, 9885, 1843,
                        2180, 9261, 6516, 7411, 8606, 4633, 5653, 8562, 9533, 8516, 2503, 3270, 5264, 1737, 1603, 1376,
                        1834, 6990, 8234, 8975, 4194, 2276, 7633, 3401, 3521, 6003, 7685, 2139, 9061, 2786, 8637, 7517,
                        1411, 3732, 9200, 9772, 8017, 4008, 9189, 4728, 5141, 8600, 5512, 4239, 5236, 6909, 9942, 4712,
                        7017, 9755, 2365, 3130, 4668, 9101, 1414, 7787, 4533, 7845, 3755, 2534, 7896, 4710, 7581, 2301,
                        5079, 4236, 7276, 8656, 4777, 1857,
                    ],
                    &[
                        4612, 4669, 4273, 1929, 1925, 1342, 4565, 2152, 1909, 4897, 2697, 1419, 1998, 4789, 2940, 3388,
                        4619, 1427, 1798, 917, 2270, 1639, 1633, 4669, 2674, 2348, 3714, 3909, 4359, 3151, 1639, 4533,
                        3444, 3531, 887, 528, 2346, 1481, 831, 2345, 3610, 4507, 2890, 4740, 3959, 648, 1468, 3063,
                        2416, 4091, 1151, 2196, 999, 2708, 578, 978, 4113, 4229, 2052, 2154, 2149, 583, 1029, 2020,
                        4498, 4638, 4932, 2986, 2749, 1047, 2434, 971, 1645, 570, 1395, 3603, 4581, 3607, 3158, 2758,
                        1046, 1171, 2204, 1421, 3708, 4769, 3399, 981, 3396, 4837, 3633, 4067, 4141, 2037, 1622, 2257,
                        1529, 1371, 4090, 3273, 4767, 3543, 1098, 503, 3905, 4427, 3875, 2594, 4878, 2252, 912, 4838,
                        509, 2989, 3304, 4268, 1520, 4027, 3691, 993, 600, 3529, 3762, 1854, 592, 1579, 2191, 3051,
                        1897, 4050, 1345, 3416, 1108, 4862, 4587, 3065, 3486, 2138, 1272, 4237, 4235, 4107, 1951, 3747,
                        2774, 4944, 3815, 2560, 3688, 1838, 2821, 3098, 1361, 1439, 2486, 4599, 2215, 1908, 2432, 1862,
                        1780, 1143, 4117, 3175, 3839, 3019, 4576, 4343, 4186, 1643, 3472, 1637, 693, 4128, 4709, 4500,
                        2639, 4022, 2886, 1708, 2721, 4686, 4870, 772, 557, 1845, 2788, 821, 3752,
                    ],
                    35,
                    2208,
                ),
                118,
            ),
            (
                (
                    &[
                        1943, 2068, 4077, 7832, 8061, 6939, 6263, 8917, 8008, 5348, 8837, 4753, 4607, 7638, 9000, 7222,
                        4552, 1123, 9225, 6896, 4154, 6303, 3186, 2325, 9994, 5855, 8851, 7377, 1930, 1187, 5094, 2689,
                        8852, 1507, 1567, 9575, 1193, 1557, 8840, 9075, 5032, 3642, 6917, 7968, 5310, 2315, 7516, 4776,
                        3091, 7027, 1788, 2007, 2651, 6112, 4264, 5644, 3585, 9408, 7410, 9605, 8151, 1538, 6905, 6759,
                        4518, 3444, 5036, 1589, 3902, 3037, 1468, 9179, 3000, 5339, 6805, 7394, 9418, 9262, 2888, 4708,
                        3402, 5554, 8714, 7393, 2848, 5946, 9808, 4301, 6675, 8564, 6300, 4359, 9506, 1946, 9673, 7412,
                        1164, 2986, 2198, 5144, 3763, 4782, 8835, 6994, 8035, 3332, 2342, 5243, 3150, 9084, 6519, 9798,
                        7682, 9919, 7473, 7686, 9978, 8092, 9897, 3985, 9874, 5842, 9740, 2145, 2426, 7069, 8963, 9250,
                        4142, 9434, 1895, 6559, 3233, 8431, 6278, 6748, 7305, 4359, 2144, 8009, 4890, 6486, 7464, 8645,
                        1704, 5915, 9586, 1394, 7504, 2124, 3150, 2051, 5026, 7612, 3715, 5757, 4355, 6394, 3202, 2777,
                        3949, 2349, 7398, 3029, 3081, 5116, 5078, 8048, 9934, 4348, 8518, 5201, 1203, 7935, 5006, 6388,
                        8680, 3427, 6048, 1957, 4026, 4618, 4080,
                    ],
                    &[
                        875, 2347, 939, 3664, 3926, 4555, 1947, 4406, 4601, 3502, 4964, 1307, 4232, 2968, 4572, 3139,
                        2788, 1847, 1208, 2019, 4184, 1664, 1747, 3690, 4333, 891, 686, 1959, 2218, 4972, 806, 741,
                        1490, 4529, 2909, 925, 2040, 1234, 1264, 1135, 3640, 1455, 2933, 3699, 2856, 3074, 4579, 2458,
                        2090, 833, 4140, 4534, 2336, 4363, 1948, 4546, 4155, 3735, 3577, 2780, 4874, 1747, 4844, 3482,
                        3053, 3534, 549, 4500, 2237, 2128, 1554, 3210, 4161, 2211, 950, 3732, 2182, 1148, 4368, 4050,
                        1452, 1015, 3192, 4318, 3908, 2590, 1103, 2811, 2821, 690, 2718, 3360, 2659, 3315, 579, 3108,
                        2979, 3903, 4367, 1906, 4964, 889, 4803, 825, 2270, 4794, 4825, 4485, 4461, 1639, 3857, 1330,
                        3169, 2425, 3694, 1980, 2268, 3002, 2177, 3225, 2499, 2517, 1916, 2844, 760, 2167, 1786, 3179,
                        3222, 1432, 3775, 4747, 1764, 690, 3223, 4684, 890, 2701, 1045, 3034, 1381, 1011, 2150, 4798,
                        2247, 1334, 3058, 934, 2895, 1484, 2784, 3341, 4412, 1748, 625, 2610, 3488, 4810, 669, 4275,
                        4929, 1014, 2104, 3111,
                    ],
                    122,
                    3131,
                ),
                143,
            ),
        ];

        for ((tasks, workers, pills, strength), expected) in test_cases {
            assert_eq!(
                S::max_task_assign(tasks.to_vec(), workers.to_vec(), pills, strength),
                expected,
            );
        }
    }
}
