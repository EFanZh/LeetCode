pub mod binary_heap;

pub trait Solution {
    fn max_performance(n: i32, speed: Vec<i32>, efficiency: Vec<i32>, k: i32) -> i32;
}

#[cfg(test)]
mod tests {
    use super::Solution;

    #[allow(clippy::too_many_lines)]
    pub fn run<S: Solution>() {
        let test_cases = [
            ((6, &[2, 10, 3, 1, 5, 8] as &[_], &[5, 4, 3, 9, 7, 2] as &[_], 2), 60),
            ((6, &[2, 10, 3, 1, 5, 8], &[5, 4, 3, 9, 7, 2], 3), 68),
            ((6, &[2, 10, 3, 1, 5, 8], &[5, 4, 3, 9, 7, 2], 4), 72),
            (
                (
                    447,
                    &[
                        29_810, 40_211, 42_893, 41_516, 39_690, 43_822, 71_333, 75_889, 12_065, 28_857, 31_951, 9_481,
                        72_248, 95_574, 2_820, 1_300, 98_400, 64_653, 20_209, 65_724, 10_107, 87_196, 23_537, 18_552,
                        40_059, 92_973, 78_892, 16_555, 18_571, 94_717, 41_428, 88_107, 97_804, 26_927, 39_181, 70_451,
                        6_365, 87_528, 33_108, 89_402, 56_384, 32_797, 57_593, 59_417, 51_867, 22_482, 63_673, 84_731,
                        74_791, 8_169, 46_524, 18_126, 16_401, 33_963, 52_141, 52_571, 80_275, 30_610, 981, 69_298,
                        65_654, 57_452, 83_770, 29_587, 41_024, 90_040, 29_500, 54_034, 73_454, 95_450, 36_075, 28_767,
                        9_379, 84_580, 20_902, 26_719, 39_154, 39_265, 48_709, 91_919, 96_524, 77_933, 16_154, 67_365,
                        49_441, 20_419, 55_936, 74_648, 99_320, 64_885, 51_591, 83_490, 50_329, 21_601, 95_669, 68_705,
                        33_448, 13_245, 96_588, 18_236, 86_471, 91_804, 58_335, 50_116, 52_068, 42_660, 16_559, 63_959,
                        15_623, 78_733, 53_507, 86_575, 36_396, 49_657, 526, 69_254, 75_902, 4_039, 79_381, 34_131,
                        22_657, 19_453, 26_274, 40_782, 99_277, 89_592, 22_018, 46_787, 55_046, 27_387, 50_235, 37_231,
                        3_166, 74_621, 71_472, 88_332, 85_117, 9_855, 48_986, 40_797, 65_934, 46_769, 42_427, 16_240,
                        94_106, 45_904, 70_687, 44_482, 89_577, 64_527, 84_892, 50_121, 72_993, 36_389, 78_403, 96_806,
                        66_973, 60_501, 67_753, 97_601, 40_022, 22_324, 81_270, 69_594, 47_111, 462, 51_009, 55_820,
                        44_042, 76_603, 91_686, 64_580, 83_933, 38_128, 2_724, 94_541, 20_459, 52_078, 23_351, 79_360,
                        45_804, 92_802, 89_789, 39_803, 60_565, 63_511, 61_225, 5_950, 66_884, 97_616, 55_391, 46_554,
                        86_094, 2_588, 66_475, 21_185, 12_197, 83_359, 36_150, 39_899, 69_219, 31_095, 35_268, 9_816,
                        68_577, 48_262, 67_046, 96_565, 22_093, 85_599, 93_512, 35_359, 79_911, 30_424, 73_538, 22_592,
                        34_017, 43_208, 29_140, 79_948, 32_012, 4_003, 52_770, 56_593, 35_271, 9_508, 95_988, 75_910,
                        76_210, 19_423, 34_339, 69_022, 18_170, 93_815, 47_329, 98_485, 31_522, 94_131, 94_173, 40_042,
                        13_945, 52_037, 64_535, 24_480, 7_254, 3_052, 89_562, 64_810, 69_277, 80_371, 44_885, 35_990,
                        80_379, 22_635, 29_107, 30_569, 58_959, 98_385, 30_372, 37_178, 71_699, 51_065, 59_205, 33_801,
                        65_056, 14_542, 10_336, 2_021, 62_967, 50_220, 37_646, 52_420, 99_427, 19_959, 1_990, 19_029,
                        71_117, 74_023, 33_315, 10_423, 85_480, 1_893, 70_384, 68_801, 5_612, 15_393, 11_933, 3_621,
                        83_561, 97_599, 90_017, 86_903, 51_080, 82_715, 34_059, 83_311, 32_169, 77_061, 22_974, 56_161,
                        91_496, 83_674, 7_970, 71_687, 70_530, 93_278, 55_591, 9_187, 35_009, 80_041, 98_594, 32_976,
                        12_658, 7_696, 56_113, 6_923, 11_957, 61_495, 48_530, 40_985, 16_598, 4_350, 87_066, 51_799,
                        58_470, 96_551, 35_389, 32_770, 11_245, 4_482, 7_624, 34_211, 96_367, 34_119, 15_354, 39_813,
                        55_684, 65_896, 26_924, 44_390, 51_262, 63_066, 17_004, 58_801, 73_223, 76_201, 68_168, 3_968,
                        97_410, 26_212, 51_019, 42_497, 53_675, 16_564, 8_502, 39_387, 69_951, 54_735, 41_786, 35_740,
                        98_139, 65_675, 68_961, 19_498, 95_264, 42_935, 9_024, 36_650, 59_526, 97_208, 10_246, 7_354,
                        6_387, 64_511, 33_020, 92_133, 97_865, 47_393, 48_515, 40_290, 78_416, 69_748, 21_994, 19_446,
                        90_079, 73_765, 14_780, 53_885, 81_226, 13_006, 89_302, 93_672, 26_784, 8_753, 74_871, 84_022,
                        9_544, 84_311, 67_041, 2_864, 48_249, 93_098, 28_828, 78_392, 30_831, 59_270, 48_125, 24_750,
                        95_135, 33_628, 26_394, 97_883, 49_902, 63_843, 52_920, 66_856, 76_625, 5_259, 60_091, 24_873,
                        91_226, 84_159, 70_881, 39_670, 97_893, 71_176, 74_970, 37_029, 53_928, 67_878, 79_007, 76_161,
                        59_313, 17_164, 58_220, 18_393, 21_361, 83_449, 55_598, 86_711, 4_752, 55_165, 36_904, 98_437,
                        2_403, 11_801, 50_256,
                    ],
                    &[
                        52_409_144, 5_509_941, 25_073_597, 77_712_955, 32_997_178, 13_548_961, 82_059_612, 79_988_739,
                        32_896_498, 2_734_556, 53_925_148, 35_978_917, 9_518_234, 10_083_751, 85_279_542, 39_033_408,
                        48_209_851, 62_925_888, 13_547_194, 44_035_972, 68_353_067, 23_252_163, 20_073_998, 42_920_683,
                        14_344_887, 69_035_996, 39_391_494, 27_748_248, 73_214_826, 4_262_748, 83_688_455, 74_215_897,
                        92_555_899, 23_911_542, 58_067_690, 21_192_570, 95_942_114, 33_191_627, 8_645_527, 59_954_387,
                        73_721_763, 72_662_479, 72_217_179, 1_458_481, 45_455_404, 34_624_026, 3_276_054, 55_926_364,
                        2_538_189, 92_838_862, 77_855_755, 79_664_441, 18_588_592, 37_166_813, 75_708_455, 23_108_833,
                        11_978_561, 65_229_374, 23_834_131, 42_579_452, 87_085_776, 92_142_233, 98_169_793, 31_994_108,
                        66_447_473, 64_267_057, 95_676_586, 45_224_865, 82_045_517, 87_698_900, 86_760_377, 6_468_938,
                        68_678_099, 49_484_751, 68_670_060, 41_849_361, 92_953_423, 74_130_846, 22_169_912, 94_123_667,
                        62_381_496, 11_404_911, 81_350_059, 76_669_555, 23_659_351, 33_634_347, 29_208_286, 96_582_765,
                        6_997_203, 91_487_697, 96_254_682, 46_705_288, 69_129_620, 73_044_360, 5_463_828, 12_133_523,
                        84_348_931, 35_906_765, 11_236_700, 82_799_272, 92_157_812, 11_006_966, 32_345_170, 58_105_753,
                        22_112_937, 58_804_673, 83_537_456, 28_456_190, 57_882_805, 71_679_588, 15_849_776, 39_658_053,
                        33_315_038, 75_077_925, 25_479_720, 58_891_125, 2_823_227, 84_225_193, 32_512_794, 27_730_164,
                        38_222_742, 72_791_567, 36_671_733, 78_616_435, 33_672_843, 59_914_327, 73_199_263, 65_875_307,
                        16_347_721, 76_577_204, 27_490_709, 14_514_199, 15_847_293, 1_773_821, 39_783_827, 97_216_020,
                        18_333_339, 67_158_723, 76_850_157, 58_675_855, 90_900_690, 70_919_839, 113_377, 59_366_425,
                        60_337_868, 40_909_455, 53_606_930, 98_131_095, 76_694_029, 15_179_404, 50_675_006, 27_368_881,
                        520_182, 85_299_790, 96_943_869, 97_761_582, 26_693_124, 80_642_358, 54_890_399, 95_580_346,
                        94_340_555, 60_315_856, 89_770_242, 26_489_362, 70_624_121, 91_073_195, 77_758_531, 54_392_013,
                        83_433_073, 98_493_102, 9_092_678, 33_236_521, 87_073_139, 84_513_597, 54_626_478, 84_458_121,
                        85_058_138, 36_273_509, 9_853_306, 1_359_367, 35_511_764, 55_182_268, 73_047_564, 20_410_486,
                        34_809_483, 22_766_268, 68_494_858, 36_348_909, 13_237_907, 79_273_853, 9_362_263, 8_992_441,
                        59_389_134, 22_030_332, 95_327_344, 92_670_308, 53_945_290, 92_463_699, 81_200_910, 28_036_660,
                        27_878_141, 44_821_397, 9_201_186, 93_844_369, 88_420_620, 62_805_392, 74_846_641, 6_676_310,
                        39_846_057, 98_661_632, 74_657_575, 47_761_591, 99_300_303, 52_688_395, 53_648_926, 64_910_915,
                        81_926_714, 96_106_913, 34_731_191, 94_850_369, 88_696_471, 83_544_102, 42_483_824, 33_343_240,
                        25_488_064, 84_005_065, 22_230_419, 59_535_838, 97_743_772, 81_370_827, 61_658_488, 21_815_186,
                        18_535_199, 59_147_254, 41_575_534, 53_788_561, 15_547_373, 27_674_242, 91_455_784, 9_157_169,
                        30_550_600, 43_133_574, 13_418_312, 6_037_203, 80_196_915, 29_065_895, 4_659_159, 94_479_026,
                        97_168_531, 59_362_807, 88_976_311, 15_846_699, 92_964_157, 12_781_669, 53_647_598, 66_440_847,
                        50_720_111, 22_628_784, 31_640_052, 62_085_874, 77_837_256, 28_441_679, 95_956_960, 44_307_589,
                        79_674_139, 28_702_153, 6_203_269, 701_612, 42_892_555, 77_880_342, 26_291_144, 21_483_953,
                        86_710_609, 4_087_842, 51_978_739, 89_229_451, 7_666_475, 50_934_271, 17_445_468, 62_127_947,
                        40_721_868, 4_760_655, 8_167_385, 17_304_056, 36_720_664, 58_050_499, 25_516_258, 67_063_506,
                        17_490_145, 37_483_093, 25_759_943, 60_064_361, 44_265_676, 35_966_750, 86_114_542, 32_627_221,
                        8_077_773, 79_254_965, 46_924_497, 81_249_071, 75_196_502, 70_084_709, 47_409_400, 55_384_949,
                        26_758_766, 71_995_043, 88_903_900, 95_770_584, 99_761_764, 96_786_456, 9_701_824, 23_834_179,
                        20_268_187, 27_292_708, 6_027_141, 85_513_177, 68_832_164, 67_260_236, 13_325_421, 5_384_539,
                        71_332_033, 59_505_400, 17_207_132, 94_978_827, 3_304_402, 70_398_482, 12_130_142, 43_676_345,
                        40_512_228, 51_571_311, 98_328_737, 42_037_891, 17_448_963, 51_027_324, 90_971_680, 12_624_314,
                        32_935_688, 74_783_098, 44_306_234, 68_359_791, 78_401_987, 14_050_977, 87_587_125, 70_296_049,
                        96_553_750, 94_125_049, 71_889_567, 39_101_099, 21_076_465, 49_707_787, 69_937_862, 13_070_135,
                        46_356_024, 77_162_533, 5_848_487, 87_391_451, 42_097_414, 40_039_965, 47_327_338, 43_659_510,
                        69_806_991, 1_155_797, 16_356_308, 42_561_888, 43_697_659, 76_921_522, 60_641_417, 64_383_955,
                        48_877_454, 51_073_567, 77_707_695, 18_063_186, 70_291_398, 77_256_263, 32_932_323, 77_011_969,
                        45_452_682, 86_369_228, 54_032_650, 62_353_742, 45_694_651, 68_121_148, 3_902_022, 33_571_278,
                        29_679_847, 17_905_659, 24_776_639, 97_705_167, 6_724_984, 73_243_675, 35_665_572, 14_352_922,
                        35_124_454, 84_844_541, 70_649_184, 10_535_657, 29_176_348, 23_268_960, 57_994_116, 79_236_664,
                        65_320_138, 38_084_604, 26_895_286, 66_251_930, 57_102_138, 90_677_543, 73_078_374, 64_714_177,
                        9_756_702, 54_668_275, 1_111_304, 71_402_264, 69_026_003, 10_255_970, 82_657_264, 77_615_576,
                        57_122_680, 47_221_323, 859_161, 40_178_651, 92_789_343, 739_148, 16_112_120, 68_785_506,
                        42_352_675, 86_576_855, 74_004_543, 70_548_491, 72_751_454, 54_801_202, 84_552_504, 41_306_769,
                        40_521_727, 67_956_765, 78_687_514, 73_819_008, 33_922_695, 1_289_271, 98_802_406, 75_954_956,
                        49_440_866, 53_974_168, 88_448_415, 89_882_431, 12_143_598, 646_710, 36_087_820,
                    ],
                    238,
                ),
                755_645_132,
            ),
        ];

        for ((n, speed, efficiency, k), expected) in test_cases {
            assert_eq!(S::max_performance(n, speed.to_vec(), efficiency.to_vec(), k), expected);
        }
    }
}
